{% load static %}

<aside class="main-sidebar sidebar-no-expand">
    <div class="sidebar d-flex flex-column" style="height:100vh; overflow:hidden;">

        <!-- Brand -->
        <div class="brand-area px-3 py-3 d-flex align-items-center" style="border-bottom:1px solid #30363d;">
            <div class="brand-icon-wrap d-flex align-items-center justify-content-center"
                 style="width:36px;height:36px;border-radius:8px;background:#6366f1;flex-shrink:0;">
                <i class="fas fa-layer-group" style="color:#fff;font-size:15px;"></i>
            </div>
            <div class="sidebar-text ml-2 overflow-hidden">
                <span style="font-size:15px;font-weight:700;color:#e6edf3;white-space:nowrap;letter-spacing:-.2px;">Template App</span>
                <span style="display:block;font-size:10px;color:#8b949e;letter-spacing:.5px;text-transform:uppercase;">CMS</span>
            </div>
        </div>

        <!-- Nav -->
        <nav class="flex-grow-1 py-2" style="overflow-y:auto;">
            <p class="sidebar-section-label px-3 mb-1 sidebar-text">MAIN</p>
            <ul class="nav nav-pills nav-sidebar flex-column" data-widget="treeview" role="menu" data-accordion="false">

                <li class="nav-item">
                    <a href="{% url 'dashboard' %}" class="nav-link {% if request.resolver_match.url_name == 'dashboard' %}active{% endif %}">
                        <i class="nav-icon fas fa-th-large"></i>
                        <span class="sidebar-text">Dashboard</span>
                    </a>
                </li>

                <li class="nav-item">
                    <a href="{% url 'userList' %}" class="nav-link {% if request.resolver_match.url_name == 'userList' or request.resolver_match.url_name == 'addUser' %}active{% endif %}">
                        <i class="nav-icon fas fa-users"></i>
                        <span class="sidebar-text">Users</span>
                    </a>
                </li>

                <!-- TODO: Add project-specific nav links here -->

            </ul>
        </nav>

        <!-- Footer -->
        <div class="sidebar-footer px-3 py-3 sidebar-text" style="border-top:1px solid #30363d;">
            <span style="font-size:11px;color:#8b949e;">
                <i class="fas fa-code-branch mr-1"></i>Version 1.0
            </span>
        </div>

    </div>
</aside>

<style>
    .main-sidebar {
        background-color: #161b22 !important;
        border-right: 1px solid #30363d;
        box-shadow: 2px 0 12px rgba(0,0,0,0.4);
    }

    /* Nav links */
    .nav-sidebar .nav-link {
        color: #8b949e;
        border-radius: 8px;
        margin: 2px 10px;
        padding: 9px 12px;
        font-size: 13.5px;
        font-weight: 500;
        transition: background .18s, color .18s;
        display: flex;
        align-items: center;
        gap: 10px;
    }
    .nav-sidebar .nav-link i {
        width: 18px;
        text-align: center;
        font-size: 14px;
        flex-shrink: 0;
    }
    .nav-sidebar .nav-link:hover {
        background-color: rgba(99,102,241,0.1);
        color: #e6edf3;
    }
    .nav-sidebar .nav-link.active {
        background-color: rgba(99,102,241,0.18) !important;
        color: #a5b4fc !important;
        border: none !important;
        box-shadow: none !important;
    }
    .nav-sidebar .nav-link.active i {
        color: #6366f1 !important;
    }

    /* Section label */
    .sidebar-section-label {
        font-size: 10px;
        font-weight: 700;
        letter-spacing: .8px;
        color: #484f58;
        text-transform: uppercase;
        margin-top: 8px;
    }

    /* Collapse hide text */
    body.sidebar-collapse .sidebar-text { display: none !important; }
    body.sidebar-collapse .sidebar-section-label { display: none !important; }
    body.sidebar-collapse .sidebar-footer { display: none !important; }
    body.sidebar-collapse .brand-area .sidebar-text { display: none !important; }
</style>